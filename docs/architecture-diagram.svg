<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 24px Arial; fill: #2c3e50; }
      .subtitle { font: bold 16px Arial; fill: #34495e; }
      .text { font: 12px Arial; fill: #2c3e50; }
      .small-text { font: 10px Arial; fill: #7f8c8d; }
      .box { fill: #ecf0f1; stroke: #34495e; stroke-width: 2; rx: 8; }
      .user-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; rx: 8; }
      .frontend-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; rx: 8; }
      .backend-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; rx: 8; }
      .aws-box { fill: #ff9500; stroke: #e67e22; stroke-width: 2; rx: 8; }
      .api-box { fill: #27ae60; stroke: #229954; stroke-width: 2; rx: 8; }
      .data-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; rx: 8; }
      .arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .bi-arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); marker-start: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">침수 정보 표시 앱 - 서비스 구성도</text>
  
  <!-- User Layer -->
  <rect x="50" y="60" width="200" height="80" class="user-box"/>
  <text x="150" y="85" text-anchor="middle" class="subtitle" fill="white">사용자</text>
  <text x="150" y="105" text-anchor="middle" class="text" fill="white">웹 브라우저</text>
  <text x="150" y="125" text-anchor="middle" class="small-text" fill="white">Chrome, Safari, Firefox</text>

  <!-- Frontend Layer -->
  <rect x="350" y="60" width="250" height="120" class="frontend-box"/>
  <text x="475" y="85" text-anchor="middle" class="subtitle" fill="white">프론트엔드</text>
  <text x="475" y="105" text-anchor="middle" class="text" fill="white">React + Vite</text>
  <text x="380" y="125" text-anchor="start" class="small-text" fill="white">• 네이버 지도 연동</text>
  <text x="380" y="140" text-anchor="start" class="small-text" fill="white">• 실시간 데이터 시각화</text>
  <text x="380" y="155" text-anchor="start" class="small-text" fill="white">• 반응형 UI/UX</text>
  <text x="380" y="170" text-anchor="start" class="small-text" fill="white">• PWA 지원</text>

  <!-- Backend Layer -->
  <rect x="700" y="60" width="200" height="120" class="backend-box"/>
  <text x="800" y="85" text-anchor="middle" class="subtitle" fill="white">백엔드 API</text>
  <text x="800" y="105" text-anchor="middle" class="text" fill="white">Express.js</text>
  <text x="720" y="125" text-anchor="start" class="small-text" fill="white">• REST API</text>
  <text x="720" y="140" text-anchor="start" class="small-text" fill="white">• WebSocket</text>
  <text x="720" y="155" text-anchor="start" class="small-text" fill="white">• CORS 처리</text>
  <text x="720" y="170" text-anchor="start" class="small-text" fill="white">• 에러 핸들링</text>

  <!-- AWS Infrastructure -->
  <rect x="950" y="60" width="200" height="120" class="aws-box"/>
  <text x="1050" y="85" text-anchor="middle" class="subtitle" fill="white">AWS 인프라</text>
  <text x="1050" y="105" text-anchor="middle" class="text" fill="white">클라우드 서비스</text>
  <text x="970" y="125" text-anchor="start" class="small-text" fill="white">• S3 (정적 호스팅)</text>
  <text x="970" y="140" text-anchor="start" class="small-text" fill="white">• CloudFront (CDN)</text>
  <text x="970" y="155" text-anchor="start" class="small-text" fill="white">• Lambda (서버리스)</text>
  <text x="970" y="170" text-anchor="start" class="small-text" fill="white">• DynamoDB (NoSQL)</text>

  <!-- External APIs -->
  <rect x="50" y="250" width="180" height="100" class="api-box"/>
  <text x="140" y="275" text-anchor="middle" class="subtitle" fill="white">네이버 API</text>
  <text x="70" y="295" text-anchor="start" class="small-text" fill="white">• Maps API</text>
  <text x="70" y="310" text-anchor="start" class="small-text" fill="white">• Geocoding API</text>
  <text x="70" y="325" text-anchor="start" class="small-text" fill="white">• Directions API</text>
  <text x="70" y="340" text-anchor="start" class="small-text" fill="white">• Static Map API</text>

  <rect x="280" y="250" width="180" height="100" class="api-box"/>
  <text x="370" y="275" text-anchor="middle" class="subtitle" fill="white">공공데이터 API</text>
  <text x="300" y="295" text-anchor="start" class="small-text" fill="white">• 기상청 API</text>
  <text x="300" y="310" text-anchor="start" class="small-text" fill="white">• 한강홍수통제소</text>
  <text x="300" y="325" text-anchor="start" class="small-text" fill="white">• 행정안전부</text>
  <text x="300" y="340" text-anchor="start" class="small-text" fill="white">• 국토교통부</text>

  <!-- Data Processing -->
  <rect x="520" y="250" width="200" height="100" class="data-box"/>
  <text x="620" y="275" text-anchor="middle" class="subtitle" fill="white">데이터 처리</text>
  <text x="540" y="295" text-anchor="start" class="small-text" fill="white">• 실시간 데이터 수집</text>
  <text x="540" y="310" text-anchor="start" class="small-text" fill="white">• 데이터 정규화</text>
  <text x="540" y="325" text-anchor="start" class="small-text" fill="white">• 캐싱 처리</text>
  <text x="540" y="340" text-anchor="start" class="small-text" fill="white">• 알림 시스템</text>

  <!-- Database -->
  <rect x="770" y="250" width="180" height="100" class="data-box"/>
  <text x="860" y="275" text-anchor="middle" class="subtitle" fill="white">데이터베이스</text>
  <text x="790" y="295" text-anchor="start" class="small-text" fill="white">• DynamoDB</text>
  <text x="790" y="310" text-anchor="start" class="small-text" fill="white">• 홍수 데이터</text>
  <text x="790" y="325" text-anchor="start" class="small-text" fill="white">• API 소스 관리</text>
  <text x="790" y="340" text-anchor="start" class="small-text" fill="white">• 사용자 설정</text>

  <!-- Monitoring -->
  <rect x="1000" y="250" width="150" height="100" class="box"/>
  <text x="1075" y="275" text-anchor="middle" class="subtitle">모니터링</text>
  <text x="1020" y="295" text-anchor="start" class="small-text">• CloudWatch</text>
  <text x="1020" y="310" text-anchor="start" class="small-text">• 로그 분석</text>
  <text x="1020" y="325" text-anchor="start" class="small-text">• 성능 모니터링</text>
  <text x="1020" y="340" text-anchor="start" class="small-text">• 알람 설정</text>

  <!-- Core Features -->
  <rect x="200" y="420" width="800" height="150" class="box"/>
  <text x="600" y="445" text-anchor="middle" class="subtitle">핵심 기능</text>
  
  <!-- Feature boxes -->
  <rect x="220" y="460" width="150" height="80" class="frontend-box"/>
  <text x="295" y="485" text-anchor="middle" class="text" fill="white">실시간 홍수 정보</text>
  <text x="240" y="505" text-anchor="start" class="small-text" fill="white">• 수위 모니터링</text>
  <text x="240" y="520" text-anchor="start" class="small-text" fill="white">• 강수량 정보</text>
  <text x="240" y="535" text-anchor="start" class="small-text" fill="white">• 예보 데이터</text>

  <rect x="390" y="460" width="150" height="80" class="backend-box"/>
  <text x="465" y="485" text-anchor="middle" class="text" fill="white">지도 시각화</text>
  <text x="410" y="505" text-anchor="start" class="small-text" fill="white">• 네이버 지도</text>
  <text x="410" y="520" text-anchor="start" class="small-text" fill="white">• 마커 표시</text>
  <text x="410" y="535" text-anchor="start" class="small-text" fill="white">• 경로 안내</text>

  <rect x="560" y="460" width="150" height="80" class="api-box"/>
  <text x="635" y="485" text-anchor="middle" class="text" fill="white">안전 경로</text>
  <text x="580" y="505" text-anchor="start" class="small-text" fill="white">• 위험 지역 회피</text>
  <text x="580" y="520" text-anchor="start" class="small-text" fill="white">• 대체 경로</text>
  <text x="580" y="535" text-anchor="start" class="small-text" fill="white">• 실시간 업데이트</text>

  <rect x="730" y="460" width="150" height="80" class="data-box"/>
  <text x="805" y="485" text-anchor="middle" class="text" fill="white">알림 서비스</text>
  <text x="750" y="505" text-anchor="start" class="small-text" fill="white">• 위험 알림</text>
  <text x="750" y="520" text-anchor="start" class="small-text" fill="white">• 푸시 알림</text>
  <text x="750" y="535" text-anchor="start" class="small-text" fill="white">• 이메일 알림</text>

  <!-- Technology Stack -->
  <rect x="50" y="620" width="1100" height="120" class="box"/>
  <text x="600" y="645" text-anchor="middle" class="subtitle">기술 스택</text>
  
  <text x="80" y="670" text-anchor="start" class="text">프론트엔드:</text>
  <text x="80" y="690" text-anchor="start" class="small-text">React 18, Vite, JavaScript ES6+, CSS3, HTML5</text>
  
  <text x="80" y="715" text-anchor="start" class="text">백엔드:</text>
  <text x="80" y="735" text-anchor="start" class="small-text">Node.js, Express.js, AWS Lambda, WebSocket</text>

  <text x="600" y="670" text-anchor="start" class="text">인프라:</text>
  <text x="600" y="690" text-anchor="start" class="small-text">AWS S3, CloudFront, DynamoDB, CloudWatch</text>
  
  <text x="600" y="715" text-anchor="start" class="text">외부 API:</text>
  <text x="600" y="735" text-anchor="start" class="small-text">네이버 Maps, 공공데이터포털, 기상청, 한강홍수통제소</text>

  <!-- Arrows -->
  <!-- User to Frontend -->
  <line x1="250" y1="100" x2="350" y2="100" class="bi-arrow"/>
  
  <!-- Frontend to Backend -->
  <line x1="600" y1="120" x2="700" y2="120" class="arrow"/>
  
  <!-- Backend to AWS -->
  <line x1="900" y1="120" x2="950" y2="120" class="arrow"/>
  
  <!-- APIs to Data Processing -->
  <line x1="140" y1="250" x2="140" y2="200" class="arrow"/>
  <line x1="140" y1="200" x2="520" y2="200" class="arrow"/>
  <line x1="520" y1="200" x2="520" y2="250" class="arrow"/>
  
  <line x1="370" y1="250" x2="370" y2="220" class="arrow"/>
  <line x1="370" y1="220" x2="580" y2="220" class="arrow"/>
  <line x1="580" y1="220" x2="580" y2="250" class="arrow"/>
  
  <!-- Data Processing to Database -->
  <line x1="720" y1="300" x2="770" y2="300" class="arrow"/>
  
  <!-- Database to Backend -->
  <line x1="860" y1="250" x2="860" y2="180" class="arrow"/>
  
  <!-- AWS to Monitoring -->
  <line x1="1050" y1="180" x2="1050" y2="250" class="arrow"/>

  <!-- Data flow labels -->
  <text x="300" y="95" text-anchor="middle" class="small-text">HTTPS</text>
  <text x="650" y="115" text-anchor="middle" class="small-text">REST API</text>
  <text x="925" y="115" text-anchor="middle" class="small-text">서버리스</text>
  <text x="745" y="295" text-anchor="middle" class="small-text">데이터 저장</text>
  <text x="860" y="215" text-anchor="middle" class="small-text">쿼리</text>
</svg>
